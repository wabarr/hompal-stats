<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Homework Assignment #2</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57395681-1', 'auto');
  ga('send', 'pageview');

</script>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<link rel="icon" href="favicon.ico" type="image/x-icon">

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="libs/highlight/textmate.css"
      type="text/css" />
<script src="libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="octicons/octicons.css" type="text/css" />
<link rel="stylesheet" href="css/custom-style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script src="libs/navigation-1.1/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->





<div id="navbar">
  <div id="navbar-container">
    <ul id="navbar-ul">
      <li><a href="index.html"><span class="mega-octicon octicon-home"></span></a></li>
      <li><a href="datasets.html">Data</a></li>
      <li><a href="homework.html">Schedule</a></li>
      <li><a href="ANTH6413_syllabus.docx">Syllabus</a></li>
      <li><a href="gettinghelp.html">Getting Help</a></li>
      
    </ul>
  </div>
</div>

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Homework Assignment #2</h1>
<h4 class="date"><em>Due Feb. 2nd</em></h4>

</div>


<p>Note from Spring 2015: Students reported spending &gt;20 hours on this assignment.</p>
<div id="for-each-step-make-sure-your-markdown-document-prints-the-relevant-output-so-that-i-can-see-that-your-code-works." class="section level3">
<h3>For each step, make sure your markdown document prints the relevant output, so that I can see <span class="mega-octicon octicon-eye"></span> that your code works.</h3>
</div>
<div id="problem-1" class="section level2">
<h2>Problem 1</h2>
<ol style="list-style-type: lower-alpha">
<li>Load the <a href="datasets/Howell_craniometry.csv">Howell’s craniometric dataset</a> into R. This dataset includes 82 measurements on 2524 human crania from 28 populations <a href="datasets/Howell_Measurement_definitions.pdf">(measurement abbreviations detailed in this pdf)</a>. Note that a 0 indicates missing data in this dataset, so make sure to specify this when you read in the data.</li>
<li>Evaluate the structure of the dataframe using the <code>str()</code> function to make sure that it got read in correctly. It should have 2524 observations of 86 variables.</li>
<li>Write a new function called <code>geomean()</code> that accepts a vector (of any length) as an argument and returns the geometric mean of that vector.
<ul>
<li><strong>Note:</strong> Your function must deal properly with missing values (NA) as arguments.</li>
<li><strong>Note:</strong> the geometric mean is defined as the <em>n</em>-th root of the product of <em>n</em> numbers. Thus the geometric mean of 9, 6, 5, 4, and 3 would be calculated like this</li>
</ul>
<pre class="r"><code>product &lt;- prod(c(9, 6, 5, 4, 3))
geomean &lt;- product ^ (1/5)
geomean</code></pre>
<pre><code>## [1] 5.03627</code></pre></li>
<li>create a <code>results</code> vector, then write a <code>for</code> loop to go through each of the 2524 crania in the Howell’s dataset, calculate the geometric mean of all available measurements, and then stores this in the appropriate slot in the <code>results</code> vector. Print only first 100 elements of the <code>results</code> vector to your markdown document.</li>
<li>add this as a new column called <code>geomean</code> to the crania dataframe</li>
</ol>
</div>
<div id="problem-2" class="section level2">
<h2>Problem 2</h2>
<ol style="list-style-type: lower-alpha">
<li>Using <code>dplyr</code>, calculate the mean of the GOL, XCB, ZYB and SIS measurements for each population group by sex. (i.e., calculate the mean value separately for NORSE males and NORSE females, and likewise for all groups). The resulting data frame should only have 6 columns. (one each for sex and population, and one for each of the 4 measurements).</li>
<li>use <code>lapply()</code> to loop over each column of the crania dataframe. For each column, apply a custom-written function called <code>myFUN</code>. <code>myFUN</code> should test if the column contains numeric data (using the <code>is.numeric()</code> function). If it is numeric, calculate and return the mean value, being careful to remove NA values. If the data are not numeric, return the string “Not Numeric”.</li>
<li><p>Recreate the below figure exactly (including the theme) using the full cranial dataset. <strong>Note</strong>: you can control the size of the figures in your knitted document by including options in the code chunk. The default size is 6 for width and height. The figure below is 16 wide and 9 high, like the following.</p>
<p>```{r fig.width=16, fig.height=9}</p>
<p><code>#code to make the figure here</code></p>
<p>```</p></li>
</ol>
<p><img src="homework_assignment_2_files/figure-html/unnamed-chunk-2-1.png" title="" alt="" width="1536" /></p>
</div>
<div id="problem-3" class="section level2">
<h2>Problem 3</h2>
<p>Recreate this figure using the tools in <code>ggplot2</code>. The data come from the <a href="datasets/Zachos2001Climate.txt">Zachos et al 2001 deep sea oxygen isotope dataset</a>. Make a line graph of the o18 values against time, and include rectangular overlays that show the geological epochs of the Cenozoic.</p>
<div class="figure">
<img src="zachosdata.png" title="zachos" alt="zachos" />
<p class="caption">zachos</p>
</div>
<p>Use these approximate start dates for the geological epochs:</p>
<pre><code>epoch = c(&quot;Paleocene&quot;, &quot;Eocene&quot;, &quot;Oligocene&quot;, &quot;Miocene&quot;, &quot;Pliocene&quot;, &quot;Pleistocene&quot;, &quot;Holocene&quot;)
start = c(65, 58.8, 33.9, 23.03, 5.5, 1.8, 0.01)</code></pre>
<p><strong>Note:</strong> The original dataset is noisy. Use a convolution filter with the <code>filter()</code> function to reduce noise in the dataset.</p>
<p><strong>Note one more thing:</strong> This is a good example of a case in which you need separate dataframes for separate layers.</p>
</div>
<div id="good-luck" class="section level2">
<h2>Good luck!</h2>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
